<!doctype html><html lang="zh-CN"><head><meta charset="utf-8" /><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="generator" content="VuePress 2.0.0-rc.24" /><meta name="theme" content="VuePress Theme Plume 1.0.0-rc.158" /><script id="check-mac-os">document.documentElement.classList.toggle('mac', /Mac|iPhone|iPod|iPad/i.test(navigator.platform))</script><script id="check-dark-mode">;(function () {const um= localStorage.getItem('vuepress-theme-appearance') || 'auto';const sm = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;const isDark = um === 'dark' || (um !== 'light' && sm);document.documentElement.dataset.theme = isDark ? 'dark' : 'light';})();</script><link rel="icon" href="/wan-s-blog/favicon.ico"><link rel="icon" href="/favicon.ico"><link rel="apple-touch-icon" sizes="180x180" href="/wan-s-blog/favicon.ico"><link rel="apple-touch-icon" sizes="180x180" href="/favicon.ico"><title>HDFS入门：架构、组件和最佳实践 | WAN's Blog</title><meta name="description" content="WAN的博客"><link rel="preload" href="/wan-s-blog/assets/style-Dlml69BT.css" as="style"><link rel="stylesheet" href="/wan-s-blog/assets/style-Dlml69BT.css"><link rel="modulepreload" href="/wan-s-blog/assets/app-C7AwxLk6.js"><link rel="modulepreload" href="/wan-s-blog/assets/index.html-DTUuBlQN.js"></head><body><div id="app"><!--[--><!--[--><div class="theme-plume vp-layout" vp-container data-v-d90a7a26><!--[--><!--[--><!--]--><!--[--><span tabindex="-1" data-v-d5a8d0bc></span><a href="#VPContent" class="vp-skip-link visually-hidden" data-v-d5a8d0bc> Skip to content </a><!--]--><!----><header class="vp-nav" data-v-d90a7a26 data-v-e98a6132><div class="vp-navbar" vp-navbar data-v-e98a6132 data-v-2c31ea5e><div class="wrapper" data-v-2c31ea5e><div class="container" data-v-2c31ea5e><div class="title" data-v-2c31ea5e><div class="vp-navbar-title" data-v-2c31ea5e data-v-1a4f50af><a class="vp-link link no-icon title" href="/wan-s-blog/zh-CN/" data-v-1a4f50af><!--[--><!--[--><!--]--><!----><span data-v-1a4f50af>WAN&#39;s Blog</span><!--[--><!--]--><!--]--><!----></a></div></div><div class="content" data-v-2c31ea5e><div class="content-body" data-v-2c31ea5e><!--[--><!--]--><div class="vp-navbar-search search" data-v-2c31ea5e><div class="search-wrapper" data-v-97535d1e><!----><div id="local-search" data-v-97535d1e><button type="button" class="mini-search mini-search-button" aria-label="搜索文档" data-v-97535d1e><span class="mini-search-button-container"><span class="mini-search-search-icon vpi-mini-search" aria-label="search icon"></span><span class="mini-search-button-placeholder">搜索文档</span></span><span class="mini-search-button-keys"><kbd class="mini-search-button-key"></kbd><kbd class="mini-search-button-key">K</kbd></span></button></div></div></div><!--[--><!--]--><nav aria-labelledby="main-nav-aria-label" class="vp-navbar-menu menu" data-v-2c31ea5e data-v-d43c1732><span id="main-nav-aria-label" class="visually-hidden" data-v-d43c1732>Main Navigation</span><!--[--><!--[--><a class="vp-link link navbar-menu-link" href="/wan-s-blog/zh-CN/" tabindex="0" data-v-d43c1732 data-v-d4acf911><!--[--><span class="vp-icon vpi-2gpyrm9q" style="" aria-hidden data-provider="iconify" data-v-d4acf911></span><span data-v-d4acf911>首页</span><!----><!--]--><!----></a><!--]--><!--[--><a class="vp-link link navbar-menu-link" href="/wan-s-blog/zh-CN/blog/" tabindex="0" data-v-d43c1732 data-v-d4acf911><!--[--><span class="vp-icon vpi-87rag0z2" style="" aria-hidden data-provider="iconify" data-v-d4acf911></span><span data-v-d4acf911>博客</span><!----><!--]--><!----></a><!--]--><!--[--><a class="vp-link link navbar-menu-link" href="/wan-s-blog/zh-CN/blog/tags/" tabindex="0" data-v-d43c1732 data-v-d4acf911><!--[--><span class="vp-icon vpi-s5w0hi5n" style="" aria-hidden data-provider="iconify" data-v-d4acf911></span><span data-v-d4acf911>标签</span><!----><!--]--><!----></a><!--]--><!--[--><a class="vp-link link navbar-menu-link" href="/wan-s-blog/zh-CN/blog/archives/" tabindex="0" data-v-d43c1732 data-v-d4acf911><!--[--><span class="vp-icon vpi-yf0gznx9" style="" aria-hidden data-provider="iconify" data-v-d4acf911></span><span data-v-d4acf911>归档</span><!----><!--]--><!----></a><!--]--><!--[--><a class="vp-link link navbar-menu-link" href="/wan-s-blog/zh-CN/notes/" tabindex="0" data-v-d43c1732 data-v-d4acf911><!--[--><span class="vp-icon vpi-n0z1b697" style="" aria-hidden data-provider="iconify" data-v-d4acf911></span><span data-v-d4acf911>笔记</span><!----><!--]--><!----></a><!--]--><!--]--></nav><!--[--><!--]--><div class="vp-flyout vp-navbar-translations translations" data-v-2c31ea5e data-v-0d45479b data-v-86530b6c><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="选择语言" data-v-86530b6c><span class="text" data-v-86530b6c><!----><span class="vpi-languages option-icon" data-v-86530b6c></span><!----><!----><span class="vpi-chevron-down text-icon" data-v-86530b6c></span></span></button><div class="menu" data-v-86530b6c><div class="vp-menu" data-v-86530b6c data-v-709dc2b1><!----><!--[--><!--[--><div class="items" data-v-0d45479b><p class="title" data-v-0d45479b>简体中文</p><!--[--><div class="vp-menu-link" data-v-0d45479b data-v-1ff1855f><a class="vp-link link" href="/wan-s-blog/article/8mjmh68o/" data-v-1ff1855f><!--[--><!----> English <!----><!--]--><!----></a></div><div class="vp-menu-link" data-v-0d45479b data-v-1ff1855f><a class="vp-link link" href="/wan-s-blog/zh-TW/article/8mjmh68o/" data-v-1ff1855f><!--[--><!----> 繁體中文 <!----><!--]--><!----></a></div><!--]--></div><!--]--><!--]--></div></div></div><div class="vp-navbar-appearance appearance" data-v-2c31ea5e data-v-a295abf6><button class="vp-switch vp-switch-appearance" type="button" role="switch" title aria-checked="false" data-v-a295abf6 data-v-596c25a9 data-v-7eb32327><span class="check" data-v-7eb32327><span class="icon" data-v-7eb32327><!--[--><span class="vpi-sun sun" data-v-596c25a9></span><span class="vpi-moon moon" data-v-596c25a9></span><!--]--></span></span></button></div><div class="vp-social-links vp-navbar-social-links social-links" data-v-2c31ea5e data-v-ad52545c data-v-40bac536><!--[--><a class="vp-social-link no-icon" href="https://github.com/yunfenglong" aria-label="github" target="_blank" rel="noopener" data-v-40bac536 data-v-67b21932><span class="vpi-social-github" /></a><!--]--></div><div class="vp-flyout vp-navbar-extra extra" data-v-2c31ea5e data-v-652282fd data-v-86530b6c><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-86530b6c><span class="vpi-more-horizontal icon" data-v-86530b6c></span></button><div class="menu" data-v-86530b6c><div class="vp-menu" data-v-86530b6c data-v-709dc2b1><!----><!--[--><!--[--><!----><div class="group" data-v-652282fd><div class="item appearance" data-v-652282fd><p class="label" data-v-652282fd>外观</p><div class="appearance-action" data-v-652282fd><button class="vp-switch vp-switch-appearance" type="button" role="switch" title aria-checked="false" data-v-652282fd data-v-596c25a9 data-v-7eb32327><span class="check" data-v-7eb32327><span class="icon" data-v-7eb32327><!--[--><span class="vpi-sun sun" data-v-596c25a9></span><span class="vpi-moon moon" data-v-596c25a9></span><!--]--></span></span></button></div></div></div><div class="group" data-v-652282fd><div class="item social-links" data-v-652282fd><div class="vp-social-links social-links-list" data-v-652282fd data-v-40bac536><!--[--><a class="vp-social-link no-icon" href="https://github.com/yunfenglong" aria-label="github" target="_blank" rel="noopener" data-v-40bac536 data-v-67b21932><span class="vpi-social-github" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="vp-navbar-hamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="nav-screen" data-v-2c31ea5e data-v-2b50024d><span class="container" data-v-2b50024d><span class="top" data-v-2b50024d></span><span class="middle" data-v-2b50024d></span><span class="bottom" data-v-2b50024d></span></span></button></div></div></div></div><div class="divider" data-v-2c31ea5e><div class="divider-line" data-v-2c31ea5e></div></div></div><!----></header><div class="vp-local-nav fixed reached-top is-blog" data-v-d90a7a26 data-v-3944d8e8><button class="hidden menu" disabled aria-expanded="false" aria-controls="SidebarNav" data-v-3944d8e8><span class="vpi-align-left menu-icon" data-v-3944d8e8></span><span class="menu-text" data-v-3944d8e8>Menu</span></button><div class="vp-local-nav-outline-dropdown" style="--vp-vh:0px;" data-v-3944d8e8 data-v-4114a62c><button data-v-4114a62c>返回顶部</button><!----></div></div><!----><!--[--><div id="VPContent" vp-content class="vp-content" data-v-d90a7a26 data-v-b2beaca7><div class="vp-doc-container is-blog" data-v-b2beaca7 data-v-23f6ad98><!--[--><!--]--><div class="container" data-v-23f6ad98><!----><div class="content" data-v-23f6ad98><div class="content-container" data-v-23f6ad98><!--[--><!--]--><main class="main" data-v-23f6ad98><nav class="vp-breadcrumb" data-v-23f6ad98 data-v-1ae4ad7a><ol vocab="https://schema.org/" typeof="BreadcrumbList" data-v-1ae4ad7a><!--[--><li property="itemListElement" typeof="ListItem" data-v-1ae4ad7a><a class="vp-link link breadcrumb" href="/wan-s-blog/zh-CN/" property="item" typeof="WebPage" data-v-1ae4ad7a><!--[-->首页<!--]--><!----></a><span class="vpi-chevron-right" data-v-1ae4ad7a></span><meta property="name" content="首页" data-v-1ae4ad7a><meta property="position" content="1" data-v-1ae4ad7a></li><li property="itemListElement" typeof="ListItem" data-v-1ae4ad7a><a class="vp-link link breadcrumb" href="/wan-s-blog/zh-CN/blog/" property="item" typeof="WebPage" data-v-1ae4ad7a><!--[-->博客<!--]--><!----></a><span class="vpi-chevron-right" data-v-1ae4ad7a></span><meta property="name" content="博客" data-v-1ae4ad7a><meta property="position" content="2" data-v-1ae4ad7a></li><li property="itemListElement" typeof="ListItem" data-v-1ae4ad7a><a class="vp-link link breadcrumb" href="/wan-s-blog/zh-CN/blog/categories/?id=d8e6b2" property="item" typeof="WebPage" data-v-1ae4ad7a><!--[-->动手实践<!--]--><!----></a><span class="vpi-chevron-right" data-v-1ae4ad7a></span><meta property="name" content="动手实践" data-v-1ae4ad7a><meta property="position" content="3" data-v-1ae4ad7a></li><li property="itemListElement" typeof="ListItem" data-v-1ae4ad7a><a class="vp-link link breadcrumb current" href="/wan-s-blog/zh-CN/article/8mjmh68o/" property="item" typeof="WebPage" data-v-1ae4ad7a><!--[-->HDFS入门：架构、组件和最佳实践<!--]--><!----></a><!----><meta property="name" content="HDFS入门：架构、组件和最佳实践" data-v-1ae4ad7a><meta property="position" content="4" data-v-1ae4ad7a></li><!--]--></ol></nav><!--[--><!--]--><!--[--><h1 class="vp-doc-title page-title" data-v-27be53cb>HDFS入门：架构、组件和最佳实践 <!----></h1><div class="vp-doc-meta" data-v-27be53cb><!--[--><!--]--><p class="reading-time" data-v-27be53cb><span class="vpi-books icon" data-v-27be53cb></span><span data-v-27be53cb>约 1449 字</span><span data-v-27be53cb>大约 18 分钟</span></p><p data-v-27be53cb><span class="vpi-tag icon" data-v-27be53cb></span><!--[--><a class="vp-link link tag vp-tag-1nfv" href="/wan-s-blog/zh-CN/blog/tags/?tag=Hadoop" data-v-27be53cb><!--[-->Hadoop<!--]--><!----></a><a class="vp-link link tag vp-tag-lscd" href="/wan-s-blog/zh-CN/blog/tags/?tag=HDFS" data-v-27be53cb><!--[-->HDFS<!--]--><!----></a><a class="vp-link link tag vp-tag-z7w3" href="/wan-s-blog/zh-CN/blog/tags/?tag=大数据" data-v-27be53cb><!--[-->大数据<!--]--><!----></a><a class="vp-link link tag vp-tag-uy1i" href="/wan-s-blog/zh-CN/blog/tags/?tag=分布式系统" data-v-27be53cb><!--[-->分布式系统<!--]--><!----></a><!--]--></p><!--[--><!--]--><p class="create-time" data-v-27be53cb><span class="vpi-clock icon" data-v-27be53cb></span><span data-v-27be53cb>2025-04-07</span></p></div><!--]--><!--[--><!--]--><div class="_zh-CN_article_8mjmh68o_ external-link-icon-enabled vp-doc plume-content" vp-content data-v-23f6ad98><!--[--><!--]--><div data-v-23f6ad98><h2 id="概述" tabindex="-1"><a class="header-anchor" href="#概述"><span>概述</span></a></h2><p>Hadoop分布式文件系统（HDFS）是Hadoop应用程序使用的主要存储系统。HDFS设计运行在商用硬件上，为应用程序数据提供高吞吐量访问，适合大数据集的应用程序。</p><div class="hint-container warning"><p class="hint-container-title">注意</p><p>HDFS设计为一次写入、多次读取的访问模式，可能不适合低延迟访问要求。</p></div><h2 id="架构概述" tabindex="-1"><a class="header-anchor" href="#架构概述"><span>架构概述</span></a></h2><h3 id="主从架构" tabindex="-1"><a class="header-anchor" href="#主从架构"><span>主从架构</span></a></h3><p>HDFS遵循主从架构，包含以下组件：</p><ul><li><strong>NameNode</strong>：管理文件系统命名空间并控制文件访问</li><li><strong>DataNode</strong>：存储实际数据块并为客户端提供读写请求服务</li><li><strong>Client</strong>：访问HDFS数据的应用程序</li></ul><div class="vp-steps"><ol><li><strong>NameNode</strong>：维护文件系统树和元数据</li><li><strong>DataNodes</strong>：在集群中存储数据块</li><li><strong>Client</strong>：与NameNode和DataNode进行通信</li></ol></div><h3 id="核心组件" tabindex="-1"><a class="header-anchor" href="#核心组件"><span>核心组件</span></a></h3><h4 id="namenode" tabindex="-1"><a class="header-anchor" href="#namenode"><span>NameNode</span></a></h4><p>NameNode是HDFS的核心组件：</p><ul><li><strong>元数据管理</strong>：存储文件系统命名空间（目录树、文件名、权限等）</li><li><strong>块管理</strong>：跟踪数据块及其位置</li><li><strong>访问控制</strong>：管理客户端对文件的访问</li></ul><div class="hint-container tip"><p class="hint-container-title">提示</p><p>在标准HDFS集群中，NameNode是单点故障。考虑为生产环境使用高可用性（HA）配置。</p></div><h4 id="datanode" tabindex="-1"><a class="header-anchor" href="#datanode"><span>DataNode</span></a></h4><p>DataNode是HDFS的工作节点：</p><ul><li><strong>数据存储</strong>：存储实际数据块（通常每个128MB或256MB）</li><li><strong>心跳机制</strong>：定期向NameNode报告</li><li><strong>块验证</strong>：使用校验和验证数据完整性</li></ul><h4 id="client" tabindex="-1"><a class="header-anchor" href="#client"><span>Client</span></a></h4><p>客户端组件：</p><ul><li><strong>文件操作</strong>：发起读写请求</li><li><strong>NameNode通信</strong>：查询元数据和块位置</li><li><strong>DataNode通信</strong>：直接与DataNode进行数据传输</li></ul><h2 id="数据存储模型" tabindex="-1"><a class="header-anchor" href="#数据存储模型"><span>数据存储模型</span></a></h2><h3 id="数据块" tabindex="-1"><a class="header-anchor" href="#数据块"><span>数据块</span></a></h3><p>HDFS将数据存储在大块中：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 检查当前块大小</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">hdfs</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> dfsadmin</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -confKey</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> dfs.blocksize</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 典型块大小：</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># - Hadoop 1.x: 64MB</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># - Hadoop 2.x: 128MB（默认）</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># - Hadoop 3.x: 128MB（默认），最大2GB</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="复制" tabindex="-1"><a class="header-anchor" href="#复制"><span>复制</span></a></h3><p>HDFS在多个DataNode之间复制数据块：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 检查复制因子</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">hdfs</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> dfsadmin</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -confKey</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> dfs.replication</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 典型复制因子：3</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="vp-steps"><ol><li>客户端将数据写入第一个DataNode</li><li>第一个DataNode将数据转发到后续DataNode</li><li>数据以管道方式写入</li><li>所有副本必须成功写入</li></ol></div><h2 id="hdfs命令" tabindex="-1"><a class="header-anchor" href="#hdfs命令"><span>HDFS命令</span></a></h2><h3 id="基本文件操作" tabindex="-1"><a class="header-anchor" href="#基本文件操作"><span>基本文件操作</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 创建目录</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">hdfs</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> dfs</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -mkdir</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /user/hadoop</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 上传本地文件到HDFS</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">hdfs</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> dfs</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -put</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> localfile.txt</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /user/hadoop/</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 从HDFS下载文件</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">hdfs</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> dfs</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -get</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /user/hadoop/remote.txt</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> local.txt</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 列出文件</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">hdfs</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> dfs</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -ls</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /user/hadoop/</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 删除文件</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">hdfs</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> dfs</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -rm</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /user/hadoop/oldfile.txt</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="高级操作" tabindex="-1"><a class="header-anchor" href="#高级操作"><span>高级操作</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 设置复制因子</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">hdfs</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> dfs</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -setrep</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -R</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 3</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /user/hadoop/</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 检查磁盘使用情况</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">hdfs</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> dfs</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -du</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -h</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /user/hadoop/</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 检查文件系统状态</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">hdfs</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> dfsadmin</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -report</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 进入安全模式（维护模式）</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">hdfs</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> dfsadmin</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -safemode</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> enter</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">hdfs</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> dfsadmin</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -safemode</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> leave</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="配置文件" tabindex="-1"><a class="header-anchor" href="#配置文件"><span>配置文件</span></a></h2><h3 id="核心配置" tabindex="-1"><a class="header-anchor" href="#核心配置"><span>核心配置</span></a></h3><p>编辑 <code>core-site.xml</code>：</p><div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-xml"><span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">&lt;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">configuration</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    &lt;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">property</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">        &lt;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">name</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">fs.defaultFS</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&lt;/</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">name</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">        &lt;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">value</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">hdfs://namenode:8020</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&lt;/</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">value</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    &lt;/</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">property</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    &lt;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">property</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">        &lt;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">name</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">hadoop.tmp.dir</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&lt;/</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">name</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">        &lt;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">value</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">/var/hadoop/tmp</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&lt;/</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">value</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    &lt;/</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">property</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">&lt;/</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">configuration</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="hdfs配置" tabindex="-1"><a class="header-anchor" href="#hdfs配置"><span>HDFS配置</span></a></h3><p>编辑 <code>hdfs-site.xml</code>：</p><div class="language-xml line-numbers-mode has-collapsed-lines collapsed" data-highlighter="shiki" data-ext="xml" style="--vp-collapsed-lines:15;--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-xml"><span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">&lt;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">configuration</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    &lt;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">property</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">        &lt;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">name</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">dfs.namenode.name.dir</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&lt;/</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">name</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">        &lt;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">value</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">/var/hadoop/hdfs/namenode</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&lt;/</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">value</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    &lt;/</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">property</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    &lt;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">property</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">        &lt;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">name</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">dfs.datanode.data.dir</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&lt;/</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">name</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">        &lt;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">value</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">/var/hadoop/hdfs/datanode</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&lt;/</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">value</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    &lt;/</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">property</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    &lt;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">property</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">        &lt;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">name</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">dfs.replication</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&lt;/</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">name</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">        &lt;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">value</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">3</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&lt;/</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">value</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    &lt;/</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">property</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    &lt;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">property</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">        &lt;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">name</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">dfs.blocksize</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&lt;/</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">name</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">        &lt;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">value</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">134217728</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&lt;/</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">value</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    &lt;/</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">property</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">&lt;/</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">configuration</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><h2 id="性能优化" tabindex="-1"><a class="header-anchor" href="#性能优化"><span>性能优化</span></a></h2><h3 id="块大小配置" tabindex="-1"><a class="header-anchor" href="#块大小配置"><span>块大小配置</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 最佳块大小考虑因素：</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># - 大文件：使用更大的块（256MB、512MB、1GB）</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># - 小文件：使用更小的块（64MB、128MB）</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># - 考虑MapReduce分割大小对齐</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 为特定操作设置块大小</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">hdfs</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> dfs</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -D</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> dfs.blocksize=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">268435456</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -put</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> largefile.dat</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /user/hadoop/</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="内存配置" tabindex="-1"><a class="header-anchor" href="#内存配置"><span>内存配置</span></a></h3><div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-xml"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">&lt;!-- 在mapred-site.xml中 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">&lt;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">property</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    &lt;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">name</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">mapreduce.map.memory.mb</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&lt;/</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">name</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    &lt;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">value</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">1536</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&lt;/</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">value</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">&lt;/</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">property</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">&lt;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">property</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    &lt;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">name</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">mapreduce.reduce.memory.mb</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&lt;/</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">name</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    &lt;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">value</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">3072</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&lt;/</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">value</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">&lt;/</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">property</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="安全考虑" tabindex="-1"><a class="header-anchor" href="#安全考虑"><span>安全考虑</span></a></h2><h3 id="身份验证" tabindex="-1"><a class="header-anchor" href="#身份验证"><span>身份验证</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 启用Kerberos身份验证</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">hdfs</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> dfs</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -D</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> hadoop.security.authentication=kerberos</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -ls</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="权限" tabindex="-1"><a class="header-anchor" href="#权限"><span>权限</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 设置文件权限</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">hdfs</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> dfs</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -chmod</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 750</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /user/hadoop/protected</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 设置所有权</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">hdfs</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> dfs</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -chown</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> hadoop:hadoop</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /user/hadoop/data</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 查看权限</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">hdfs</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> dfs</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -ls</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -la</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /user/hadoop/</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="监控和维护" tabindex="-1"><a class="header-anchor" href="#监控和维护"><span>监控和维护</span></a></h2><h3 id="健康检查" tabindex="-1"><a class="header-anchor" href="#健康检查"><span>健康检查</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 检查集群健康状态</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">hdfs</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> dfsadmin</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -report</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 检查DataNode状态</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">hdfs</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> dfsadmin</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -report</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -live</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 检查复制不足的块</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">hdfs</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> fsck</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /user/hadoop</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -locations</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -files</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -blocks</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="维护操作" tabindex="-1"><a class="header-anchor" href="#维护操作"><span>维护操作</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 回滚NameNode编辑</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">hdfs</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> dfsadmin</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -rollEdits</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 刷新DataNode</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">hdfs</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> dfsadmin</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -refreshNodes</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 停用DataNode</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">echo</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">datanode3.example.com</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> decommissioning-nodes.txt</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">hdfs</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> dfsadmin</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -refreshNodes</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="常见问题和解决方案" tabindex="-1"><a class="header-anchor" href="#常见问题和解决方案"><span>常见问题和解决方案</span></a></h2><h3 id="问题1-namenode无法启动" tabindex="-1"><a class="header-anchor" href="#问题1-namenode无法启动"><span>问题1：NameNode无法启动</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 检查NameNode日志</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">tail</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -f</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /var/hadoop/hdfs/namenode.log</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 检查现有进程</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">jps</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> |</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> grep</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> NameNode</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 安全模式故障排除</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">hdfs</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> dfsadmin</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -safemode</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> get</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="问题2-datanode连接问题" tabindex="-1"><a class="header-anchor" href="#问题2-datanode连接问题"><span>问题2：DataNode连接问题</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 检查DataNode状态</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">hdfs</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> dfsadmin</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -report</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -dead</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 验证DataNode日志</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">tail</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -f</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /var/hadoop/hdfs/datanode.log</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 重置DataNode</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">rm</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -rf</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /var/hadoop/hdfs/datanode/</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">*</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">hdfs</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> datanode</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -format</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="问题3-磁盘空间问题" tabindex="-1"><a class="header-anchor" href="#问题3-磁盘空间问题"><span>问题3：磁盘空间问题</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 检查磁盘使用情况</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">hdfs</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> dfsadmin</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -report</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 识别大文件</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">hdfs</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> dfs</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -du</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> |</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> sort</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -nr</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> |</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> head</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -10</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 清理临时文件</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">hdfs</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> dfs</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -expunge</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="最佳实践" tabindex="-1"><a class="header-anchor" href="#最佳实践"><span>最佳实践</span></a></h2><h3 id="数据管理" tabindex="-1"><a class="header-anchor" href="#数据管理"><span>数据管理</span></a></h3><ol><li><strong>使用适当的文件大小</strong>：在HDFS中存储大文件（100MB+）</li><li><strong>避免小文件</strong>：对小文件使用Hadoop SequenceFile、Avro或Parquet</li><li><strong>压缩数据</strong>：使用压缩来节省存储空间</li><li><strong>分区数据</strong>：合理组织数据以提高性能</li></ol><h3 id="性能调优" tabindex="-1"><a class="header-anchor" href="#性能调优"><span>性能调优</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 启用压缩</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">hadoop</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> jar</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> hadoop-examples.jar</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> teragen</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -Dmapreduce.map.output.compress=true</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> \</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">    -Dmapreduce.map.output.compress.codec=org.apache.hadoop.io.compress.GzipCodec</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> \</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">    1000000</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /user/hadoop/output</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 使用适当的文件格式</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">hadoop</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> jar</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> parquet-tools.jar</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> schema</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> input.parquet</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="运营卓越" tabindex="-1"><a class="header-anchor" href="#运营卓越"><span>运营卓越</span></a></h3><ol><li><strong>监控集群健康</strong>：定期进行健康检查</li><li><strong>规划增长</strong>：根据需要扩展DataNode</li><li><strong>备份关键数据</strong>：定期备份重要文件</li><li><strong>记录配置</strong>：保持配置文件记录</li><li><strong>测试程序</strong>：测试备份和恢复程序</li></ol><h2 id="结论" tabindex="-1"><a class="header-anchor" href="#结论"><span>结论</span></a></h2><p>HDFS是为大规模数据处理而设计的强大分布式文件系统。了解其架构、组件和最佳实践对于有效部署和操作至关重要。通过遵循本文档中的指导原则，您可以优化HDFS性能并确保大数据应用程序的可靠数据存储。</p><p>记住：<strong>在生产环境应用更改之前，始终在暂存环境中进行测试，并维护关键数据的适当备份。</strong></p><hr><p><em>本介绍提供了HDFS基础知识的全面概述。始终根据您的特定环境和要求调整配置和程序。</em></p></div><!----><!--[--><h2 id="doc-changelog" tabindex="-1"><a href="#doc-changelog" class="header-anchor"><span>更新日志</span></a></h2><div class="vp-changelog-wrapper"><div class="vp-changelog-header"><div class="vp-latest-updated"><span class="vp-changelog-icon"></span><span data-allow-mismatch>2025/8/8 13:17</span></div><div><span class="vp-changelog-menu-icon"></span><span>查看所有更新日志</span></div></div><ul class="vp-changelog-list"><!--[--><li class="vp-changelog-item-commit"><span class="vp-changelog-hash" target="_blank" rel="noreferrer"><code>7a6b9</code></span><span class="vp-changelog-divider">-</span><span class="vp-changelog-message">feat: introduce new section Hadoop</span><span class="vp-changelog-date" data-allow-mismatch>于 <time datetime="2025-08-08T13:17:52.000Z">2025/8/8</time></span></li><!--]--></ul></div><!--]--><div class="vp-doc-copyright" data-v-23f6ad98><h2 id="doc-copyright" tabindex="-1" class="vp-doc-header" data-v-309da98c><a href="#doc-copyright" class="header-anchor" data-v-309da98c><span data-v-309da98c><!--[-->版权所有<!--]--></span></a></h2><div class="hint-container tip copyright-container" data-v-22c67d2a><p data-v-22c67d2a><span data-v-22c67d2a>版权归属：</span><a class="vp-link link no-icon" href="https://github.com/yunfenglong" target="_blank" rel="noreferrer" data-v-22c67d2a><!--[-->WARREN Y.F. LONG<!--]--><!----></a></p><!----><p data-v-22c67d2a><span data-v-22c67d2a>许可证：</span><a class="vp-link link no-icon" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank" rel="noreferrer" data-v-22c67d2a><!--[-->署名-非商业性-禁止演绎 4.0 国际 (CC-BY-NC-ND-4.0)<!--]--><!----></a><!--[--><span class="vpi-license-cc" data-v-22c67d2a></span><span class="vpi-license-by" data-v-22c67d2a></span><span class="vpi-license-nc" data-v-22c67d2a></span><span class="vpi-license-nd" data-v-22c67d2a></span><!--]--></p></div></div></div></main><footer class="vp-doc-footer" data-v-23f6ad98 data-v-fda6bbae><!--[--><!--]--><!----><!----><nav class="prev-next" data-v-fda6bbae><div class="pager" data-v-fda6bbae><a class="vp-link link pager-link prev" href="/wan-s-blog/zh-CN/article/xoezzczl/" data-v-fda6bbae><!--[--><span class="desc" data-v-fda6bbae>上一页</span><span class="title" data-v-fda6bbae>HDFS重置完全指南：安全恢复与数据保护</span><!--]--><!----></a></div><div class="pager" data-v-fda6bbae><!----></div></nav></footer><!----><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!--]--><button style="display:none;" type="button" class="vp-back-to-top" aria-label="back to top" data-v-d90a7a26 data-v-bcf8d9a6><span class="percent" data-allow-mismatch data-v-bcf8d9a6>0%</span><span class="show icon vpi-back-to-top" data-v-bcf8d9a6></span><svg aria-hidden="true" data-v-bcf8d9a6><circle cx="50%" cy="50%" data-allow-mismatch style="stroke-dasharray:calc(0% - 12.566370614359172px) calc(314.1592653589793% - 12.566370614359172px);" data-v-bcf8d9a6></circle></svg></button><footer class="vp-footer" vp-footer data-v-d90a7a26 data-v-400675cf><!--[--><div class="container" data-v-400675cf><p class="message" data-v-400675cf>Power by <a target="_blank" href="https://v2.vuepress.vuejs.org/">VuePress</a> & <a target="_blank" href="https://theme-plume.vuejs.press">vuepress-theme-plume</a></p><!----></div><!--]--></footer><!--[--><!--]--><!--]--></div><!----><!--]--><!--[--><!--]--><!--]--></div><script type="module" src="/wan-s-blog/assets/app-C7AwxLk6.js" defer></script></body></html>