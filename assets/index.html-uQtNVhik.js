import{a as i,c as a,b as e,o as n}from"./app-C7AwxLk6.js";const t={};function l(h,s){return n(),a("div",null,s[0]||(s[0]=[e(`<h2 id="overview" tabindex="-1"><a class="header-anchor" href="#overview"><span>Overview</span></a></h2><p>Resetting Hadoop HDFS (Hadoop Distributed File System) is a critical operation that system administrators may need to perform in various scenarios. Whether you&#39;re recovering from a system failure, troubleshooting data corruption issues, or preparing a clean environment for testing, understanding how to safely reset HDFS is essential.</p><div class="hint-container warning"><p class="hint-container-title">Warning</p><p>HDFS reset operations involve data manipulation that could potentially lead to data loss if not performed correctly. Always ensure you have proper backups and understand the implications before proceeding.</p></div><h2 id="prerequisites" tabindex="-1"><a class="header-anchor" href="#prerequisites"><span>Prerequisites</span></a></h2><p>Before attempting any HDFS reset operation, ensure you have:</p><ol><li><strong>Backup your data</strong>: Always create backups of important data before performing reset operations</li><li><strong>Stop running services</strong>: Stop all Hadoop services to prevent conflicts during the reset</li><li><strong>Check cluster status</strong>: Verify the current health status of your HDFS cluster</li><li><strong>Document current configuration</strong>: Save your current configuration files for reference</li></ol><h2 id="step-by-step-hdfs-reset-process" tabindex="-1"><a class="header-anchor" href="#step-by-step-hdfs-reset-process"><span>Step-by-Step HDFS Reset Process</span></a></h2><h3 id="step-1-stop-hadoop-services" tabindex="-1"><a class="header-anchor" href="#step-1-stop-hadoop-services"><span>Step 1: Stop Hadoop Services</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># Stop all Hadoop services</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">stop-dfs.sh</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">stop-yarn.sh</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">mr-jobhistory-daemon.sh</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> stop</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> historyserver</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="vp-steps"><ul><li>Verify all services are stopped using <code>jps</code> command</li><li>Check for any remaining processes and manually terminate if necessary</li></ul></div><h3 id="step-2-clear-hdfs-data" tabindex="-1"><a class="header-anchor" href="#step-2-clear-hdfs-data"><span>Step 2: Clear HDFS Data</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># Format the HDFS filesystem</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">hdfs</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> namenode</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -format</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># Optional: Clear the data directories manually</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">rm</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -rf</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /var/hadoop/hdfs/namenode/</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">*</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">rm</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -rf</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /var/hadoop/hdfs/datanode/</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">*</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">rm</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -rf</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /tmp/hadoop-</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">*</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">Tips</p><p>Use <code>rm -rf</code> with caution as it permanently deletes files. Double-check the paths before execution.</p></div><h3 id="step-3-recreate-hdfs-directory-structure" tabindex="-1"><a class="header-anchor" href="#step-3-recreate-hdfs-directory-structure"><span>Step 3: Recreate HDFS Directory Structure</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># Create necessary directories</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">mkdir</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -p</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /var/hadoop/hdfs/namenode</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">mkdir</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -p</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /var/hadoop/hdfs/datanode</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">mkdir</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -p</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /tmp/hadoop-</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">$(</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">whoami</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># Set proper permissions</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">chown</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -R</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> $(</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">whoami</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">$(</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">whoami</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /var/hadoop/hdfs</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">chown</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -R</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> $(</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">whoami</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">$(</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">whoami</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /tmp/hadoop-</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">$(</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">whoami</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="step-4-restart-hadoop-services" tabindex="-1"><a class="header-anchor" href="#step-4-restart-hadoop-services"><span>Step 4: Restart Hadoop Services</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># Format HDFS (if not already done)</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">hdfs</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> namenode</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -format</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># Start HDFS services</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">start-dfs.sh</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># Start YARN services</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">start-yarn.sh</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># Start HistoryServer</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">mr-jobhistory-daemon.sh</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> start</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> historyserver</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="vp-steps"><ul><li>Monitor the startup process for any errors</li><li>Check service status using <code>jps</code></li><li>Verify HDFS is running properly using <code>hdfs dfsadmin -report</code></li></ul></div><h2 id="verification-steps" tabindex="-1"><a class="header-anchor" href="#verification-steps"><span>Verification Steps</span></a></h2><p>After completing the reset process, verify your HDFS cluster is functioning correctly:</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># Check HDFS report</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">hdfs</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> dfsadmin</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -report</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># List root directory</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">hdfs</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> dfs</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -ls</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># Test file operations</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">hdfs</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> dfs</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -mkdir</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /test</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">hdfs</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> dfs</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -put</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /etc/passwd</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /test/passwd</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">hdfs</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> dfs</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -cat</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /test/passwd</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="common-issues-and-solutions" tabindex="-1"><a class="header-anchor" href="#common-issues-and-solutions"><span>Common Issues and Solutions</span></a></h2><h3 id="issue-1-namenode-format-issues" tabindex="-1"><a class="header-anchor" href="#issue-1-namenode-format-issues"><span>Issue 1: NameNode Format Issues</span></a></h3><div class="hint-container warning"><p class="hint-container-title">Warning</p><p>If you encounter &quot;Incompatible filesystem&quot; errors, you may need to perform a clean format:</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># Stop services</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">stop-dfs.sh</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># Clean directories</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">rm</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -rf</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /var/hadoop/hdfs/namenode/</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">*</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">rm</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -rf</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /var/hadoop/hdfs/datanode/</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">*</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># Format and restart</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">hdfs</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> namenode</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -format</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">start-dfs.sh</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><h3 id="issue-2-permission-denied-errors" tabindex="-1"><a class="header-anchor" href="#issue-2-permission-denied-errors"><span>Issue 2: Permission Denied Errors</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># Fix permissions</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> chown</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -R</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> $(</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">whoami</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">$(</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">whoami</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /var/hadoop/hdfs</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> chown</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -R</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> $(</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">whoami</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">$(</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">whoami</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /tmp/hadoop-</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">*</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="issue-3-datanode-registration-failed" tabindex="-1"><a class="header-anchor" href="#issue-3-datanode-registration-failed"><span>Issue 3: Datanode Registration Failed</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># Remove datanode ID and restart</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">rm</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -rf</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /var/hadoop/hdfs/datanode/current</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">stop-dfs.sh</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">start-dfs.sh</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="backup-and-recovery-strategies" tabindex="-1"><a class="header-anchor" href="#backup-and-recovery-strategies"><span>Backup and Recovery Strategies</span></a></h2><h3 id="creating-backups" tabindex="-1"><a class="header-anchor" href="#creating-backups"><span>Creating Backups</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># Backup HDFS configuration</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">cp</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -r</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /etc/hadoop</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ~/hadoop-config-backup-</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">$(</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">date</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> +%Y%m%d</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># Backup important data from HDFS</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">hdfs</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> dfs</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -cp</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /user/hadoop/input</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /user/hadoop/input-backup</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="recovery-procedures" tabindex="-1"><a class="header-anchor" href="#recovery-procedures"><span>Recovery Procedures</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># Restore configuration (if needed)</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">cp</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -r</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ~/hadoop-config-backup-</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">*</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">/hadoop</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /etc/</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># Restore data (if backed up)</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">hdfs</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> dfs</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -cp</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /user/hadoop/input-backup/</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">*</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /user/hadoop/input/</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="best-practices" tabindex="-1"><a class="header-anchor" href="#best-practices"><span>Best Practices</span></a></h2><ol><li><strong>Always backup first</strong>: Never perform a reset without proper backups</li><li><strong>Test in staging</strong>: Test reset procedures in a staging environment first</li><li><strong>Document everything</strong>: Keep detailed records of all operations</li><li><strong>Monitor performance</strong>: After reset, monitor cluster performance closely</li><li><strong>Update documentation</strong>: Update your cluster documentation with any configuration changes</li></ol><h2 id="safety-considerations" tabindex="-1"><a class="header-anchor" href="#safety-considerations"><span>Safety Considerations</span></a></h2><p><em>This guide provides a comprehensive approach to HDFS reset operations. Always adapt procedures to your specific environment and requirements.</em></p><div class="hint-container caution"><p class="hint-container-title">Caution</p><p>⚠️ <strong>WARNING</strong>: HDFS reset operations are irreversible and will result in data loss if:</p><ul><li>You haven&#39;t backed up your data</li><li>You execute commands on the wrong paths</li><li>You skip verification steps</li></ul><p>Always double-check:</p><ul><li>File paths before deletion</li><li>Service status before operations</li><li>Backup completeness before reset</li></ul></div>`,38)]))}const p=i(t,[["render",l]]),d=JSON.parse('{"path":"/article/xoezzczl/","title":"HDFS Reset Complete Guide: Safe Recovery and Data Protection","lang":"en-US","frontmatter":{"title":"HDFS Reset Complete Guide: Safe Recovery and Data Protection","createTime":"2025/04/08 20:10:41","permalink":"/article/xoezzczl/","tags":["Hadoop","HDFS"]},"readingTime":{"minutes":8.04,"words":643},"git":{"createdTime":1754659072000,"updatedTime":1754659072000,"changelog":[{"hash":"7a6b901b4322382a410b760adb1fc2f1070102aa","time":1754659072000,"email":"yunfeng.long@yahoo.com","author":"WARREN Y.F. LONG","message":"feat: introduce new section Hadoop"}]},"filePathRelative":"Hands-On Workshop/xoezzczl.md","headers":[],"categoryList":[{"id":"162e99","sort":10008,"name":"Hands-On Workshop"}]}');export{p as comp,d as data};
